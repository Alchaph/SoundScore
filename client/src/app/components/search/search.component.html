@if (!this.isMobile) {
  <app-head-nav-bar></app-head-nav-bar>
  <body>
  <mat-form-field>
    <input matInput placeholder="Search" [(ngModel)]="searchTerm" (ngModelChange)="search()">
  </mat-form-field>
  <div id="checkboxes">
    <mat-checkbox>Artists</mat-checkbox>
    <mat-checkbox>Users</mat-checkbox>
    <mat-checkbox>Post</mat-checkbox>
    <mat-checkbox>Song</mat-checkbox>
  </div>
  <main>
    @if (posts && posts.length > 0) {
      <div>
        @for (combinedItem of posts; track combinedItem) {
          @if (selectedFilters) {
            <mat-card [routerLink]="'/home/post/'+combinedItem.id">
              <mat-card-header>
                <mat-card-title>{{ combinedItem.title }}</mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <img [src]="combinedItem.image">
                <span>{{ 'HOME.POSTED_BY' | translate }}  {{ combinedItem.user.username }}</span>
                <p>{{ combinedItem.content }}</p>
                @if (combinedItem.genre || combinedItem.artist || combinedItem.song) {
                  <div class="post-tags">
                    @if (combinedItem.genre) {
                      <span>{{ 'HOME.GENRE' | translate }}: {{ combinedItem.genre.name }}</span>
                    }
                    @if (combinedItem.artist) {
                      <span>{{ 'HOME.ARTIST' | translate }}: {{ combinedItem.artist.name }}</span>
                    }
                    @if (combinedItem.song) {
                      <span>{{ 'HOME.SONG' | translate }}: {{ combinedItem.song.title }}</span>
                    }
                  </div>
                }
              </mat-card-content>
            </mat-card>
          } @else if (!selectedFilters) {
            <mat-card [routerLink]="'/home/post/'+combinedItem.id">
              <mat-card-header>
                <mat-card-title>{{ combinedItem.title }}</mat-card-title>
              </mat-card-header>
              @if (this.isPost(combinedItem)) {
                <mat-card-content>
                  <img [src]="combinedItem.image">
                  <span>{{ 'HOME.POSTED_BY' | translate }}  {{ combinedItem.user.username }}</span>
                  <p>{{ combinedItem.content }}</p>
                  @if (combinedItem.genre || combinedItem.artist || combinedItem.song) {
                    <div class="post-tags">
                      @if (combinedItem.genre) {
                        <span>{{ 'HOME.GENRE' | translate }}: {{ combinedItem.genre.name }}</span>
                      }
                      @if (combinedItem.artist) {
                        <span>{{ 'HOME.ARTIST' | translate }}: {{ combinedItem.artist.name }}</span>
                      }
                      @if (combinedItem.song) {
                        <span>{{ 'HOME.SONG' | translate }}: {{ combinedItem.song.title }}</span>
                      }
                    </div>
                  }
                </mat-card-content>
              } @else if (this.isArtist(combinedItem)) {
                <mat-card-content>
                  <img [src]="combinedItem.artist?.image">
                  <span>{{ combinedItem.artist?.name }}</span>
                  <p>{{ combinedItem.artist?.description }}</p>
                </mat-card-content>
              } @else if (this.isSong(combinedItem)) {
                <mat-card-content>
                  <img [src]="combinedItem.song?.image">
                  <span>{{ 'HOME.POSTED_BY' | translate }}  {{ combinedItem.song?.artist.name }}</span>
                  <p>{{ combinedItem.song?.genre.name }}</p>
                </mat-card-content>
              } @else if (this.isUser(combinedItem)) {
                <mat-card-content>
                  <p>{{ combinedItem.user.username }}</p>
                  <p>{{ combinedItem.user.email }}</p>
                </mat-card-content>
              }
            </mat-card>
          }
        }
      </div>
    } @else {
      <div>
        <p>No posts found</p>
      </div>
    }
  </main>
  </body>
}

